№1 Учетные записи пользователя в системе Linux

1. учетные записи располагаются в файле /etc/passwd
(просмотр: vim /etc/passwd)
alexander:x:1000:1000:alexander,,,:/home/alexander:/bin/bash
login:x: номер пользователя:номер группы по умолчанию:...:адрес домашней папки:командная оболочка

2. Пароли хранятся в теневом файле etc/shadow
доступ на чтение у файла есть только у админа и у группы root
tmp:!:20012:0:99999:7:::
Имя пользователя:Пароль ("!"-пароля не существует):последние изменения пароля: минимальный возраст пароля: максимальный возраст пароля: период предупреждения: период бездействия: срок годности: не использованныый

3. информация о группах: /etc/group

```
pok:x:1002:
```

4. информация для групп: /etc/gshadow

```
pok:!::
```

5. Права доступа к обьектам
смена прав доступа к объектам выполняется администратором командой chmod

```
sudo chmod 775 <имя объекта>
sudo cmod g-x <имя объекта>
```

Смена владельцев и группы владельцев выполняется админом командой chown

```
sudo chown <владелец:группа владельцев><имя объекта>
sudo chmod g-x <группа владельцев><имя обьекта>
```

режим групового доступа к объектам можно использовать при смене группыб заданной по умолчанию newgrp <имя группы>

специальгные права доступа к объектам: SUID, GUIT, stick bit 

специальный бит SUID  предназначен для запуска файла от имени владельца, эта процедура позволяет обычным пользоввателям получить права на доступ к объекта, которыми может распоряжаться вляделец файлаю 
пример - программа /bin/passwd, для функционирования которой нужны права записи в файл /etc/shadow
такие права есть только у пользователей root, поэтому у программы /bin/passwd владелец root и установлен бит SUID.
в результате любой пользователь может сменить свой пароль, не обращаясь к админу.

установка бита SUID осуществляется при помощи программы chmod:

```
sudo chmod u+s <имя файла>
sudo chmod 4775 <имя файла>
```

сброс бита SUID осуществляется аналогично:

```
sudo chmod u+s <имя файла>
sudo chmod 0775 <имя файла>
```

бит SUID нет смысла применять к папкам.


специальный бит GUID предназначен для запуска файла от имени группы владельцев,  либо для изменения правл наследования группы владельцев, если он установлен для папки
установка бита GUID осуществляется при помощи программы chmod:
sudo chmod g+s <имя файла>
sudo chmod 2775 <имя файла> 


права доступа к файлу с установленнфм GUID:
-rw-rwSr-- 1 student root       0 окт 30 12:55  f1

права доступа к каталогу с установленным GUID:
drwxrwsr-x 2 student root    4096 окт 30 13:13  F

при установке бита GUID на папку все объекты, созданные внутри папки, наследует группу владельцев от родителя.
при этом дочерние папки наследуют бит GUID.

пример: объект в папке с установленным GUID:
-rw-rw-r-- 1 student root    0 окт 30 13:18 123
-rw-rw-r-- 1 student root    0 окт 30 13:18 234
drwxrwsr-x 2 student root 4096 окт 30 13:18 F123

GUID-бит применяется и для файлов, и для папок.

sticky bit - устанавливается только нна папки и определяет особые правила удаления объектов внутри папки для папок с установленным sticky bit запрещяется операция удаления файлов даже для тех пользователей, кто имет права на запись. Владельцы объектов и пользователи входящие в группу владельцев папки имеют возможность удалить свои объекты без ограничений.

устанавливается sticky bit при помощи команды chmod:

sudo cgmod o+t <имя папки>
sudo 1775 <имя папки>

права доступа до установки спецбита:
 
пример установки бита: 
sudo chmod o+t SB008/
stat SB08/

попытка удалить файл владельца student от пользователя tmp6:
rm f1, операция не позволена

при этом файл f1 пользователь tmp6 может редактировать и даже перезаписать полностью
от имени владельца папки с установленным sticky bit можно удалять оюъекты без дополнительных ограничений:
файл можно удалить после подтверждения

  